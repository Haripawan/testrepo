CREATE TABLE staging_data (
  id         NUMBER,
  load_date  DATE,
  source     VARCHAR2(20),
  region     VARCHAR2(20),
  payload    CLOB
)
PARTITION BY RANGE (load_date)
SUBPARTITION BY LIST (source)
SUBSUBPARTITION BY LIST (region)
SUBPARTITION TEMPLATE (
  SUBPARTITION src_web VALUES ('WEB') SUBSUBPARTITION TEMPLATE (
    SUBSUBPARTITION reg_north VALUES ('NORTH'),
    SUBSUBPARTITION reg_south VALUES ('SOUTH')
  ),
  SUBPARTITION src_mobile VALUES ('MOBILE') SUBSUBPARTITION TEMPLATE (
    SUBSUBPARTITION reg_east VALUES ('EAST'),
    SUBSUBPARTITION reg_west VALUES ('WEST')
  ),
  SUBPARTITION src_batch VALUES ('BATCH') SUBSUBPARTITION TEMPLATE (
    SUBSUBPARTITION reg_north VALUES ('NORTH'),
    SUBSUBPARTITION reg_south VALUES ('SOUTH'),
    SUBSUBPARTITION reg_west VALUES ('WEST')
  )
)
(
  PARTITION p_2025_jan VALUES LESS THAN (TO_DATE('2025-02-01', 'YYYY-MM-DD')),
  PARTITION p_2025_feb VALUES LESS THAN (TO_DATE('2025-03-01', 'YYYY-MM-DD'))
);